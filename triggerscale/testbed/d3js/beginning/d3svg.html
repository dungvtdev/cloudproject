<!DOCTYPE html>

<head>
	<title>D3js SVG</title>
	<script src="http://square.github.io/intro-to-d3/javascripts/d3.v4.min.js"></script>
</head>

<body>
	<script>
        var sales = [
            { product: 'Hoodie',  count: 12 },
            { product: 'Jacket',  count: 7 },
            { product: 'Snuggie', count: 6 },
        ];

        var pie = d3.pie()
            .value(function(d) { return d.count })

        var slices = pie(sales);
        var arc = d3.arc()
            .innerRadius(0)
            .outerRadius(50);
        var color = d3.scaleOrdinal(d3.schemeCategory10);

        var svg = d3.select('svg.pie');
        var g = svg.append('g')
        .attr('transform', 'translate(200, 50)')

        g.selectAll('path.slice')
        .data(slices)
            .enter()
            .append('path')
                .attr('class', 'slice')
                .attr('d', arc)
                .attr('fill', function(d) {
                return color(d.data.product);
                });

        // building a legend is as simple as binding
        // more elements to the same data. in this case,
        // <text> tags
        svg.append('g')
        .attr('class', 'legend')
            .selectAll('text')
            .data(slices)
            .enter()
                .append('text')
                .text(function(d) { return 'â€¢ ' + d.data.product; })
                .attr('fill', function(d) { return color(d.data.product); })
                .attr('y', function(d, i) { return 20 * (i + 1); })
    
    </script>
</body>